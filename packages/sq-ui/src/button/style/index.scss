@use '../../style/mixin' as *;

@use './var' as *;

$module: #{$prefix}-btn;
$module-loading: #{$module}-loading;

@mixin btn-type($type) {
  $type-colors: map-get($btn-type-colors, $type);

  .#{$module}-#{$type} {
    color: map-get($type-colors, 'color');
    background-color: map-get($type-colors, 'bg');
    border-color: map-get($type-colors, 'border');

    &:hover {
      color: map-get($type-colors, 'color');
      background-color: map-get($type-colors, 'bg-hover');
    }
    &:active {
      color: map-get($type-colors, 'color');
      background-color: map-get($type-colors, 'bg-active');
    }

    &[disabled] {
      color: map-get($type-colors, 'color-disabled');
      background-color: map-get($type-colors, 'bg-disabled');
      border-color: map-get($type-colors, 'bg-disabled');
    }
  }
}

@mixin btn-status($status) {
  $status-colors: map-get($btn-status-colors, $status);

  .#{$module}-status-#{$status} {
    color: map-get($status-colors, 'color');
    background-color: map-get($status-colors, 'bg');

    &:hover {
      color: map-get($status-colors, 'color');
      background-color: map-get($status-colors, 'bg-hover');
    }
    &:active {
      color: map-get($status-colors, 'color');
      background-color: map-get($status-colors, 'bg-active');
    }
    &[disabled] {
      color: map-get($status-colors, 'color-disabled');
      background-color: map-get($status-colors, 'bg-disabled');
      border-color: map-get($status-colors, 'bg-disabled');
    }
  }
}

.#{$module} {
  @include reset;

  border: $btn-border-width solid transparent;
  background-color: transparent;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: $btn-border-radius;
  transition: all $anim-duration-base linear;
  white-space: nowrap;

  height: $btn-height-md;
  padding: 0 $btn-padding-md;

  &[disabled] {
    cursor: not-allowed;
  }

  &-loading {
    opacity: 0.5;
    pointer-events: none;

    .#{$prefix}-icon {
      @include spin;

      display: inline-flex;
      justify-content: center;
      align-items: center;
      vertical-align: middle;
    }

    > span:not(.#{$prefix}-icon) {
      margin-left: $btn-icon-margin;
    }
  }
}

@include btn-type(default);
@include btn-type(primary);
@include btn-type(text);

@include btn-status(primary);
@include btn-status(success);
@include btn-status(warning);
@include btn-status(danger);
